<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>ReadMore Books</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">

    <link th:href="@{/css/main.css}" rel="stylesheet">
    <link th:href="@{/css/dashboard.css}" rel="stylesheet">

    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" th:inline="javascript">
        google.charts.load("current", {packages:["corechart"]});
        google.charts.setOnLoadCallback(drawChart);

        var jsvCategorias = [[${vCategorias}]];
        for(var i=1; i < jsvCategorias.length; i++){
            jsvCategorias[i][1] = parseInt(jsvCategorias[i][1])
            console.log(jsvCategorias[i]);
        }

        function drawChart() {

            var data = google.visualization.arrayToDataTable(jsvCategorias);

            var options = {
                title: 'Vendas por categoria',
                is3D: true,
            };

            var chart = new google.visualization.PieChart(document.getElementById('piechart_3d'));
            chart.draw(data, options);
        }
    </script>
    <script type="text/javascript" th:inline="javascript">
        google.charts.load("current", {packages:['corechart']});
        google.charts.setOnLoadCallback(drawChartColuna);

        var jsvLivros = [[${vLivros}]];
        for(var i=1; i < jsvLivros.length; i++){
            jsvLivros[i][1] = parseInt(jsvLivros[i][1])
            console.log(jsvLivros[i]);
        }

        function drawChartColuna() {
            var data = google.visualization.arrayToDataTable(jsvLivros);

            var options = {
                title: "Vendas por livro",
                width: 600,
                height: 400,
                bar: {groupWidth: "95%"},
                legend: { position: "none" },
            };
            var chart = new google.visualization.ColumnChart(document.getElementById("columnchart_values"));
            chart.draw(data, options);
        }
    </script>
</head>
<body id="page-landing">
<div id="container" class="admin">
    <header class="page-header">
        <div class="top-bar-container">
            <div class="logo"></div>
            <h2>ReadMore Books</h2>
        </div>
    </header>
    <main>
        <div class="menu">
            <div class="listagem">
                <div class="div-tabela">
                    <table class="tabela">
                        <thead>
                        <tr>
                            <th>Clientes</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td><a th:href="@{/clientes/lista-cliente}">Lista de clientes</a></td>
                        </tr>
                        <tr>
                            <td><a th:href="@{/compras/lista-venda}">Lista de vendas</a></td>
                        </tr>
                        <tr>
                            <td><a th:href="@{/compras/lista-troca}">Lista de trocas</a></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="div-tabela">
                    <table class="tabela">
                        <thead>
                        <tr>
                            <th>Livros</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td><a th:href="@{/livros/lista-livro}">Lista de livros</a></td>
                        </tr>
                        <tr>
                            <td><a th:href="@{/livros/add-livro}">Cadastrar livro</a></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="div-tabela">
                    <table class="tabela">
                        <thead>
                        <tr>
                            <th>Gerenciamento</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td><a th:href="@{/admin/dashboard}">Dashboard</a></td>
                        </tr>
                        <tr>
                            <td><a th:href="@{/compras/add-cupom}">Cadastrar cupom</a></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="conteudo">
            <div id="piechart_3d" style="width: 900px; height: 300px;"></div>
            <div id="columnchart_values" style="width: 900px; height: 300px;"></div>
        </div>
    </main>
</div>
</body>
</html>